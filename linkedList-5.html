<!--题目:删除单链表和双链表的第倒数k个节点-->
<!--解题思路:遍历两次链表,第一次得出链表的长度,第二次找到length-k+1的位置进行删除-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>linkedList-5</title>
</head>
<body>
<script type="text/javascript">
    //  单链表基础部分
    function Node(element){
        this.element = element;
        this.next = null;
    }

    function LList(){
        this.head = new Node('head');
        this.find = find;
        this.insert = insert;
        //this.remove = remove;
        this.display = display;
    }

    function find(item){
        var currNode = this.head;
        while (currNode.element !== item){
            currNode = currNode.next;
        }
        return currNode;
    }

    //插入一个元素
    function insert(newElement, item){
        var newNode = new Node(newElement);
        var current = this.find(item);
        newNode.next = current.next;
        current.next = newNode;
    }


    function display(){
        var currNode = this.head;
        while (!(currNode.next === null)){
            console.log(currNode.next.element);
            currNode = currNode.next;
        }
    }
    //  双链表基础部分
    function DNode(element){
        this.element = element;
        this.pre=null;
        this.next = null;
    }

    function DList(){
        this.head = new DNode('head');
        this.find = Dfind;
        this.insert = Dinsert;
        //this.remove = remove;
        this.display = display;
    }

    function Dfind(item){
        var currNode = this.head;
        while (currNode.element !== item){
            currNode = currNode.next;
        }
        return currNode;
    }

    //插入一个元素
    function Dinsert(newElement, item){
        var newNode = new Node(newElement);
        var current = this.find(item);
        newNode.pre = current;
        newNode.next = current.next;
        current.next = newNode;
    }

    function display(){
        var currNode = this.head;
        while (!(currNode.next === null)){
            console.log(currNode.next.element);
            currNode = currNode.next;
        }
    }

    //    先创建两个链表
    var listA = new LList();
    listA.insert("1", "head");
    listA.insert("2", "1");
    listA.insert("4", "2");
    listA.insert("3", "4");
    listA.display();
    var listB = new DList();
    listB.insert("1", "head");
    listB.insert("3", "1");
    listB.insert("5", "3");
    listB.insert("6", "5");
    listB.display();

    //查找倒数第2个值,并且删除
    function search() {
        var p=listA.head;
        var p1;
        var q=listB.head;
        var i=0;
        var j=0;
        //计算listA的长度
        while(p.next!==null){
            p=p.next;
            i++
        }
        //计算listB的长度
        while(q.next!==null){
            q=q.next;
            j++
        }
        //找到倒数第2个节点,并且删除
        p=listA.head;
        var k=2;
        if(i>k){
            for(var m=0;m<=i-k;m++){
                p1=p;
                p=p.next;
            }
            console.log(p);
            p1.next=p.next;
            listA.display();
        }
        else if(i=k){
            console.log(p);
        }
        else if(i<k){
           console.log("k太大");
        }
    }
    function Dsearch() {
        var q=listB.head;
        var q1;
        var j=0;
        //计算listB的长度
        while(q.next!==null){
            q=q.next;
            j++
        }
        //找到倒数第2个节点,并且删除
        q=listB.head;
        var k=2;
        if(j>k){
            for(var m=0;m<=j-k;m++){
                q1=q;
                q=q.next;
            }
            q1.next=q.next;
            listB.display();
        }
        else if(j=k){
            console.log(q);
        }
        else if(j<k){
            console.log("k太大");
        }
    }
    search();
    Dsearch();
</script>
</body>
</html>